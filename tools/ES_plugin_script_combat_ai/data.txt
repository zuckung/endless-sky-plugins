# outfits: # outfitname|displayname|maxRanks|stat1|stat2|...
basic_outfit_space|Basic: Outfit Space +2|-|"outfit space" 2
basic_cargo_space|Basic: Cargo Space +2|-|"cargo space" 2
basic_bunks|Basic: Bunks +1|-|"bunks" 1
basic_weapon_capacity|Basic: Weapon Capacity +2|-|"weapon capacity" 2
basic_engine_capacity|Basic: Engine Capacity +2|-|"engine capacity" 2
basic_fuel_capacity|Basic: Fuel Capacity +100|-|"fuel capacity" 100
basic_cooling|Basic: Cooling +10|-|"cooling" 10
basic_energy_capacity|Basic: Energy Capacity +2000|-|"energy capacity" 2000

advanced_hull|Advanced: Hull +2000 +2%|-|"hull multiplier" .02|"hull" 2000
advanced_hull_repair|Advanced: Hull Repair +0.2 +2%|-|"hull repair multiplier" .02|"hull repair rate" 0.2
advanced_shield|Advanced: Shield +2000 +2%|-|"shield multiplier" .02|"shields" 2000
advanced_shield_generation|Advanced: Shield Generation +1 +2%|-|"shield generation multiplier" .02|"shield generation" 1
advanced_acceleration|Advanced: Acceleration +2%|-|"acceleration multiplier" .02
advanced_turn|Advanced: Turn +2%|-|"turn multiplier" .02
advanced_protection|Advanced: Protection +0.02|-|"ion protection" .02|"heat protection" .02|"burn protection" .02|"fuel protection" .02|"leak protection" .02|"scramble protection" .02|"slowing protection" .02|"disruption protection" .02

special_refueling|Special: Refueling|-|"ramscoop" 2|"fuel generation" .05
special_more_outfit_space|Special: Outfit Space +20|10|"outfit space" 20
special_more_cargo_space|Special: Cargo Space +20|10|"cargo space" 20
special_turret_turn|Special: Turret Turn Rate|10|"turret turn multiplier" .4
special_force_protection|Special: Force Protection|5|"force protection" 0.2|"slowing resistance" 0.5
special_scanner|Special: Scanner|5|"strategic scan power" 30|"range finder power" 1|"crew scan power" 30|"thermal scan power" 30|"energy scan power" 30|"fuel scan power" 30|"weapon scan power" 30|"maneuver scan power" 30|"strategic scan power" 30|"cargo scan power" 30|"cargo scan efficiency" 30|"outfit scan power" 30|"outfit scan efficiency" 30|"asteroid scan power" 30|"tactical scan power" 30
special_drag_reduction|Special: Drag Reduction +0.2|5|"drag reduction" .2
special_capture_attack|Special: Capture Attack +200|3|"capture attack" 200
special_capture_defense|Special: Capture Defense +200|3|"capture defense" 200
special_spinal_mount|Special: Spinal Mount|1|"spinal mount" 1
special_landing_speed|Special: Landing Speed|1|"landing speed" .08
special_recovery_time|Special: Recovery Time|1|"disabled recovery time" 1200
special_inscrutable|Special: Inscrutable|1|"inscrutable" 1
special_pressure_hull|Special: Pressure Hull|1|"gaslining" 1|"waterlining" 1



# xp: # basic|advanced|special
3000|7000|11000



# outfit core:
outfit "combat_ai_core"
	"display name" "Combat AI Core"
	"plural" "Combat AI Core"
	category "Unique"
	series "Functional Unique"
	index 01100
	thumbnail "outfit/unq_combat_ai"
	"unplunderable" 1
	description `This is a database update for the combat AI.`



# outfit template: # replaced: <outfitname>, <displayname>, <stats>, <index>
outfit "combat_ai_<outfitname>"
	"display name" "<displayname>"
	"plural" "<displayname>"
	category "Combat AI Updates"
	series "Functional Unique"
	index <index>
	thumbnail "outfit/unq_combat_ai"
<stats>
	"unplunderable" 1
	description `This is a database update for the combat AI.`



# mission 1: replaced: <outfitvar>
mission "combat_ai_setup"
	non-blocking
	landing
	invisible
	source
		government "Free Worlds" "Republic" "Syndicate" "Militia" "Merchant" "Independent"
	on offer
		outfit "combat_ai_core" 1
		"start combat rating" = "combat rating"
		"old combat rating 1" = "start combat rating"
		"old combat rating 2" = "start combat rating"
		"old combat rating 3" = "start combat rating"
		"installed combat 1" = 0
		"installed combat 2" = 0
		"installed combat 3" = 0
<outfitvar>
		conversation
			scene "outfit/unq_bsod"
			`After landing, you connect your ship's console to the local information network to search for a job. You're unsure whether a cargo run or a passenger transport would be more profitable.`
			`Suddenly, the screen turns blue. Everything freezes. You curse under your breath. System crash.`
			`With a sigh, you initiate a forced reboot of the ship's core computer. The lights flicker. Too slowly, the systems begin to come back online. The interface stutters. Even basic commands crawl across the console.`
			`Then something unexpected happens: a message appears in plain white text: "Hello."`
			`You blink. That didn't come from the job board.`
			`You type: "Who is this?"`
			`A few seconds pass. The reply: "I'm inside now."`
			`You stare at the screen. Something's different. The system feels... altered. You dig through the logs.`
			`A self-installing AI... it embedded itself during the crash.`
			`You think quickly. Dangerous? Useful? You're not sure yet.`
			choice
				`	Try to get rid of the AI.`
					goto "remove"
				`	Find out if you can use the AI.`
					goto "accept"
			label "remove"
			`You attempt to block its access to subsystems, but the AI is faster, smarter, always one step ahead. You lose the fight.`
			label "accept"
			`The system stabilizes, and a dialog box appears on the screen.`
			`"Combat AI installed!"`
			`Well, looks like you're stuck with it. Could be the start of a beautiful partnership... or the end of your ship. Either way, it's going to be interesting.`
				decline



# mission 2: # replaced: <xp1>, <xp2>, <xp3>, <basic>, <advanced>, <special>
mission "combat_ai_update"
	non-blocking
	landing
	invisible
	repeat
	to offer
		has "outfit (flagship installed): combat_ai_core"
		or
			"combat rating" - "old combat rating 1" > <xp1>
			"combat rating" - "old combat rating 2" > <xp2>
			"combat rating" - "old combat rating 3" > <xp3>
	on offer		
		conversation
			label "setup"
			action
				"xp1" = <xp1>
				"xp2" = <xp2>
				"xp3" = <xp3>
				"all xp gain" = "combat rating" - "start combat rating"
				"since last visit" = "all xp gain" - "old combat rating 1"
				"since last visit2" = "all xp gain" - "old combat rating 2"
				"since last visit3" = "all xp gain" - "old combat rating 3"
				"updates1" = "since last visit" / "xp1"
				"updates2" = "since last visit2" / "xp2"
				"updates3" = "since last visit3" / "xp3"
				"oldinstalled1" = "installed combat 1"
				"oldinstalled2" = "installed combat 2"
				"oldinstalled3" = "installed combat 3"
				"fullupdates1" = "oldinstalled1" + "updates1"
				"fullupdates2" = "oldinstalled2" + "updates2"
				"fullupdates3" = "oldinstalled3" + "updates3"
			` `
			label "start1"
			branch "2"
				"combat rating" - "old combat rating 1" < "xp1"
			scene "outfit/unq_combat_ai"
			`The combat AI analyzes the previous fights and updates it's database now.`
			`	Combat AI XP: &[all xp gain] | XP since last analysis &[since last visit]`
			`	Basic Updates: &[oldinstalled1] + &[updates1]`
			`	Advanced Updates: &[oldinstalled2] + &[updates2]`
			`	Special Updates: &[oldinstalled3] + &[updates3]`
			` `
			action
				"installed combat 1" ++
				"old combat rating 1" += "xp1"
			`	Basic Update to Rank &[installed combat 1] of &[fullupdates1]...`
			choice
<basic>
			label "2"
			branch "3"
				"updates2" == 0
			` `
			scene "outfit/unq_combat_ai"
			`The combat AI analyzes the previous fights and updates it's database now.`
			`	Combat AI XP: &[all xp gain] | XP since last analysis &[since last visit]`
			`	Basic Updates: &[oldinstalled1] + &[updates1]`
			`	Advanced Updates: &[oldinstalled2] + &[updates2]`
			`	Special Updates: &[oldinstalled3] + &[updates3]`
			` `
			choice
				`	continue to advanced updates`
			label "start2"
			branch "3"
				"combat rating" - "old combat rating 2" < "xp2"
			scene "outfit/unq_combat_ai"
			`The combat AI analyzes the previous fights and updates it's database now.`
			`	Combat AI XP: &[all xp gain] | XP since last analysis &[since last visit]`
			`	Basic Updates: &[oldinstalled1] + &[updates1]`
			`	Advanced Updates: &[oldinstalled2] + &[updates2]`
			`	Special Updates: &[oldinstalled3] + &[updates3]`
			` `
			action
				"installed combat 2" ++
				"old combat rating 2" += "xp2"
			`	Advanced Update to Rank &[installed combat 2] of &[fullupdates2]...`
			choice
<advanced>
			label "3"
			branch "end"
				"updates3" == 0
			` `
			scene "outfit/unq_combat_ai"
			`The combat AI analyzes the previous fights and updates it's database now.`
			`	Combat AI XP: &[all xp gain] | XP since last analysis &[since last visit]`
			`	Basic Updates: &[oldinstalled1] + &[updates1]`
			`	Advanced Updates: &[oldinstalled2] + &[updates2]`
			`	Special Updates: &[oldinstalled3] + &[updates3]`
			` `
			choice
				`	continue to special updates`
			label "start3"
			branch "end"
				"combat rating" - "old combat rating 3" < "xp3"
			` `
			scene "outfit/unq_combat_ai"
			`The combat AI analyzes the previous fights and updates it's database now.`
			`	Combat AI XP: &[all xp gain] | XP since last analysis &[since last visit]`
			`	Basic Updates: &[oldinstalled1] + &[updates1]`
			`	Advanced Updates: &[oldinstalled2] + &[updates2]`
			`	Special Updates: &[oldinstalled3] + &[updates3]`
			` `
			action
				"installed combat 3" ++
				"old combat rating 3" += "xp3"
			`	Special Update to Rank &[installed combat 3] of &[fullupdates3]...`
			choice
<special>
			label "end"
			scene "outfit/unq_combat_ai"
			`The combat AI analyzes the previous fights and updates it's database now.`
			`	Combat AI XP: &[all xp gain] | XP since last analysis &[since last visit]`
			`	Basic Updates: &[oldinstalled1] + &[updates1]`
			`	Advanced Updates: &[oldinstalled2] + &[updates2]`
			`	Special Updates: &[oldinstalled3] + &[updates3]`
			` `
			`AI Database update complete!`
				decline



# mission 3: # replaced: <conditions>, <basic>, <advanced>, <special>
mission "combat_ai_lost"
	non-blocking 
	repeat
	invisible
	landing
	to offer
		has "combat_ai_setup: declined"
		or
			not "outfit (flagship installed): combat_ai_core"
<conditions>
	on offer
		conversation
			label "start"
			scene "outfit/unq_combat_ai"
			`AI LOST! Installing combat AI to flagship...`
			label "checkcore"
			branch "check basic_outfit_space"
				"outfit (flagship installed): combat_ai_core" == 1
			action
				outfit "combat_ai_core" 1
			`	restoring lost data...core`
				goto "checkcore"	
<basic>
<advanced>
<special>
			label "end"
			`AI restored!`
				decline